# Управління процессами
- Засоби взаємодії з процесами
- Проблема синхронизації
  - Якщо в нас багатопотокова система, то в нас багато процесів які потребують пам'ять
  - Процесси повинні працювати не блокуючи один одного
  - Існують алгоритми які виришують проблеми синхронизації
  - Проблема синхронізації процесів вирішується
    - Призупиненням процесів
    - Активацієй процесів
    - Організацієй черги
  - Якщо не організовувати процеси, то може бути дедлок та процеси потрібно бути аварійно завершувати
  - Наприклад
    - Є змінна next, вона відповідає номеру вільного запису в черзі документів які відрправляються на друк
    - Треба прочитати цю змінну, записати значення, збільшити номер на 1
    - Якщо система базується на квантуванні
    - Процес не встиг записати значення та збільшити значення змінної
    - Через це ми будемо читати значення котре далі
    - І перший процес не виконає свого завдання ніколи, бо не зможе знайти свої данні зі змінної
  - Складність проблеми синхронизації полягає в нерегулярноті ситуацій
  - Не завжди можна передбачити ситуацію
    - Все визначається швидкостями та миттю переривання
  - Ситуація з прикладу, де два процесси обробляють один файл та хро перший той встиг, називається **Гонками**
  - Критична секція
    - Це частина программи де є доступ до файлів які можуть змінювати інші програми
    - Щоб виключити ефект гонок по відношенню до деякого ресурсу, необхідно забезпечити щоб в кожний момент часу доступ до ресурсу мав тільки один процесс
  - Цей прийом називають **Взаємним виключенням**
  - Найпростіший способ забезпечити взаємне виключення
    - Дозволити процессу який знаходиться в критичній секції заборонити всі переривання
    - Але небезпечно давати процесу керування системою
  - Інший спосіб - блокування змінних
    - Не давати доступу до змінної, коли вона використовується
    - Ідеться перевірка, чи ресурс зайнятий чи ресурс вільний
    - Якщо він вільний то процес змінює його на зайнятий та використовує цей ресурс
  - Ці способи виключають переривання але є недолік - треба це все перевіряти та робити
  - Апарат подій
    - За допомогою цього засобі можуть вирішуватися не тільки проблеми взаємного виключення, а і більш складні завдання синхронизації процессів
    - Якщо ресурс зайнятий, то процес не виконує циклічне опитування, а переводиться в стан очікування а потім продовжує працювати
  - Алгоритм Дейкстра
    - Вводимо 2 Семафора
    - Е - число пустих буферів
    - F - число заповнених буферів
    - Вичитуємо з одного та записуємо в інший
  - Тупики
    - Взаємні блокування, Deadlock
    - Якщо один процесс зайняв один ресурс, та йому потрібен інший
    - Інший процесс зайняв інший ресурс а йому потрібез один
    - В них обох все зайнято і вони не можуть виконуватися
  - Але Черга - говорить про те, що ресурс використовуюють багато процессів
  - Бішьше число процессів
    - Тупік може створюватись багатьма процессами
    - Тупіка можна запобігти на декількох стадіях
      - Програмне
        - Программи повинні бути бути написані так, щоб вона не могла заблокуватися
      - Ведення таблиць
        - Ведення таблиць зайнятості щоб запобігти їх виникненню
      - Якщо вже все пішло не по плану
        - На основі таблиць може зняти один з процессів та процесс виконається
  - Монітор
    - це набір процедур, змінних та структур данних
    - Процесси можуть визивати процедури монітора, але не мають доступа до внутрішніх данних монітора
    - Монітори мають важливу ознаку, яка робить їх корисними для досянгення взаємного виключення
      - Тільки один процесс можу бути активним по відношенню до монітору
    - Зазвичай коли процес викликає процедуру монітора, то перші кілька інструкцій цієї процедурп - перевірка чи не активний який небудь інший процесс по відношенню до цього монітора
    - У розподілених системах які складаються з кількох процессів
  - Потоки
    - Багатозадачність - найважливіша складова ОС
    - Коли ми говорими про процесс 
      - У кожного процесса є своя віртуальна адресса
      - Кожному ресурсу дають свої ресурси
    - У мультипрограмуванні підвищується пропускна задатніть властивість системи
    - Задачу можна зробити швидше, коли ми її розбиваємо на маленькі задачки які виконуються як окремі процесси
    - Для цих цілей сучасні ос надают механізм багатопроцесової обробки
    - Якщо елекртронна таблиця була розроблена з використанням механізма багатопотоковості
    - 
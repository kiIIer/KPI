# Файлові системи
- Файлова система
  - Панятття файлової системи
  - Імена файлів
  - Типи файлів 
  - Логічна організація файла
  - Фізична організація та адреса файла
  - Праав допуска до файлів
  - Кешування диска
  - Загальна модель файлової системи
  - Відображення в пам'яті файлів
  - Сучачні архітектури файлових систем
- Файлова система 
  - Це частина операційної системи, призначення якої понягає в тому щоб надавати користувачеві інтерфейс для керування данними
  - В широкому плані поняття файлова системи включає
    - Совокупність всіх файлів на диску
    - Набори структурних данних, використовуємих для управніння файлами, такими як каталоги файлів, дескриптори файлів, таблиці розподілення вільного та зайнятого просору на диску
- Файлові системи windows
  - Windows підтримує кілько файлових систем: ntfs, fat32 та більш стара системи fat16 
  - Файлова система ntfs забезпечує такий збіг надійності, ефективності та швидкопріці
  - Основними цірями розробки ntfs були забазпечення швидкісного виконання стандартних операцій над файлами такі як читання, запис, пошук та надання додаткових можливостей включая реанімацію пошкодженої файлової системи на величезних дисках
  - Папки та файли ntfs можуть буди назначені ним права доступа незалежно від того чи є вони розділяємі або ні
  - Для fat32 обмеження: максимальний розмір файла - 4гб, 8тб максимальний розмір розділа. В windows розділ можно створювати не більше 32 гб
  - Для ntfs обмеження: нема обмежень в розмірах файла та в розмірах розділа. На практиці рекомендується створюватит томa, розміри яких не перевищують 2n,
  - Максимальний розмір тома 16 єксабайт(теоретичний розмір файла може складати до 16ЕБ = 10^18 байт)
- Файлові системи linux
  - ОС linux підтримує багато файлових систем, але найбільш популярними є ext, ext2, ext3, ext4
  - Розширена файлова система ext4 перемогає попередників
    - Непревивне простір на диску, створиєме завдяки розподілу файлиі на диску
    - Швидий запис данних
    - htree-індекси 
      - Це спеціальне дерево структури данниХ, який використовується для каталогів індексації
  - Обмеження 
    - ext3 
      - Максимальний розмір 32 терабайта
      - файл - 2 тарабайти
    - ext4 
      - максимальний розміррозділа 1014 петабайт
      - Максимальний розмір файла більше 2 терабайт
- Імена файлів
  - Файли ідентифікуються іменами
  - Користувачі дають файлам симольні імена, при цьому учитується обмкеження ОС на то як називати символи та на довжину імені
  - Раніше ці границі буди доволі вузькими
    - Так у файловій системі fat
    - Довжина імен обмежувалася схемою 8.3 8 символів - ім'я, 3 символа - розширення імені
    - А в ос inux system v
      - ім'я не можу складати більше 14 символів
  - Але користувачі набагато зручніше працювати з довгими іменами, оскільки вони зозволяють більш точно описати склад
  - Тому файлові системи як правило підтримують 255 та більше символів 
  - При переході до довгих імен виникає проблема совестімості з більш ранніми програмами які використовують короткі імена
  - Щоб програма могла звертатися до файлів у відповідності з прийнятими раніше згодами, файлова система повинна вміти надати еквівалентне которке ім'я довгому імені
  - Зазвичай різні файли можуть мати однакові символьні імена, але в цьому випадку однозначно ідентифікується так звані составним іменем, надаючий послідовність символьний імен каталогів
  - В деяких системаї одному й тому ж файлу не можу бути дано одночасно нілько різних імен, а в інших таке обмеження відсутне
  - В останньому випадку операційна система надає файлу додаткове унікальне ім'я, таке щоб можна було встановити взаємно-однозначні відповідності між файлом та його унікальним ім'ям
  - Унікальне ім'я
    - Є числовий ідентификатор і використовуємий программами оС 
- Типи файлів
  - Файли бувають різний типив
    - Обичні файли
      - текстові
        - Текстові файли складаються з строк символів в ascii коді
      - двійкові
    - Спеціальні файли
      - пов'язані для роботи з пристроями вводу виводу
    - Файли каталоги
      - з одного боку группа файлів які пористувач об'єднав за кількома міркуваннями
  - Атрибути файлів
    - Тільки читання
    - Прихований файл
    - Системний файл
    - Архівний файл
    - Двійковий
    - тмп
    - Признаки блокуання
    - Довжина запису
    - Посилання на ключове поле в записі
    - Довжина ключа
    - Час создання, останнього доступа, останнього змінення
    - Розмір файла
    - Максимальний розмір файла
    - Два підходи зберігання
      - Каталоги можуть мати значення файлів як у системі windows
      - або посилання на таблиці де є їх характеристики як у системі unix
  - Каталоги можуть образовувати ієрархічну структуру з допомогою того що каталог більш низького може входити в більш високий
    - Ієрархія каталогів може бути у вигляді дерева або мережі
      - дерево 
        - Один файл в одному каталозі
      - Мережа
        - Один файл може бути у кільких каталогах
    - в вінді - дерево, у юніксі мережа
  - Організація файлів
    - Найпростіший варіант фізичної організації просто по порядку
      - Плюси - простота
      - мінуси
        - Ми не знаємо його довжину, тобто не знаємо скільки пам'яті треба зарезервувати для цього файла
        - Фрагментація диска після видалення або редагування файлів
    - Розміщення у вигляді зв'язаного списку блоків дискової пам'яті
      - Дуже легко нарощувати файл
      - Щоб сказади де файл - треба мати вказівник на перший блок
      - При такому способі вирішується проблема фрагментації та нарощуваємості файла
      - Недолік
        - Доступ до конкретного блоку, бо треба читати від самого початку щоб знайти потрібний нам частину файлу
        - Більшість данних у файлі не дорівнюють двійці в степені. тут такого нема
    - Ще спосіб використовуємий у системі fat
      - Зв'язаного списка індексів
      - З кожним блоком зв'язаний елемент - індекс
      - Індекси знаходяться в окремій області диска вв віндовз, талбиця фат
    - Простого перерахування номерів блоків які займає файл